# Required Configuration
========================

## Floating IP

1. Create a Floating IP via OpenStack for the master node before creating a cluster with the clusterctl tool.
   This IP will be used by ``clusterctl`` to access the master node via SSH to retrieve the kubeconfig
   file generated by kubeadm on the master node.

   For example, ``openstack floating ip create <public_net>`` to create a floating ip, e.g:

   ```bash
   +--------------------------------------+------------------+---------------------+---------+
   | id                                   | fixed_ip_address | floating_ip_address | port_id |
   +--------------------------------------+------------------+---------------------+---------+
   | aeefa79a-0e76-4c14-9da7-e5a9a6cc3787 |                  | 172.17.0.117        |         |
   +--------------------------------------+------------------+---------------------+---------+
   ```

1. In `examples/openstack/<os>/out/machines.yaml`, generated with `generate-yaml.sh,
   set `spec.providerSpec.value.floatingIP` for the master to the Floating IP from OpenStack.

   sample below as an example by using above floating ip, otherwise, the ssh from deployer to
   the new created master will fail.
   e.g.:

   ```yaml
   items:
   - apiVersion: "cluster.k8s.io/v1alpha1"
   kind: Machine
   metadata:
     generateName: openstack-master-
     labels:
       set: master
   spec:
     providerSpec:
       value:
        ...
        floatingIP: 172.17.0.117
        ...
   ```
